# Production replica counts (higher for HA)
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-gateway
  namespace: cloudbill
spec:
  replicas: 3
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: auth-service
  namespace: cloudbill
spec:
  replicas: 3
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: billing-service
  namespace: cloudbill
spec:
  replicas: 3
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: payment-service
  namespace: cloudbill
spec:
  replicas: 3
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: notification-service
  namespace: cloudbill
spec:
  replicas: 2
---
# Production HPA settings
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: api-gateway-hpa
  namespace: cloudbill
spec:
  minReplicas: 3
  maxReplicas: 15
---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: auth-service-hpa
  namespace: cloudbill
spec:
  minReplicas: 3
  maxReplicas: 12
---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: billing-service-hpa
  namespace: cloudbill
spec:
  minReplicas: 3
  maxReplicas: 12
---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: payment-service-hpa
  namespace: cloudbill
spec:
  minReplicas: 3
  maxReplicas: 12
---
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: notification-service-hpa
  namespace: cloudbill
spec:
  minReplicas: 2
  maxReplicas: 8
